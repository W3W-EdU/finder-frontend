<%= render "components/filter_section", {
  heading_text: date_facet.name,
  visually_hidden_heading_prefix: "Filter by",
  status_text: date_facet.status_text,
  id: "facet_date_#{date_facet.key}",
  index_section: index,
  index_section_count: count,
  # Note date is the only validated facet, so if there is an error, it'll be here
  open: @search_query.invalid?,
  data_attributes: { ga4_index: { index_section: index + 1, index_section_count: count } },
  change_category: "update-filter text",
} do %>
  <%= render "govuk_publishing_components/components/input", {
    label: {
      text: date_facet.name + " after"
    },
    name: date_facet.key + "[from]",
    id: date_facet.key + "[from]",
    value: date_facet.user_supplied_from_date,
    hint: "For example, 2005 or 21/11/2014",
    error_message: date_facet.error_message_from(@search_query),
    data: {
      ga4_section: date_facet.name + " after"
    }
  } %>

  <%= render "govuk_publishing_components/components/input", {
    label: {
      text: date_facet.name + " before"
    },
    name: date_facet.key + "[to]",
    id: date_facet.key + "[to]",
    value: date_facet.user_supplied_to_date,
    hint: "For example, 2005 or 21/11/2014",
    error_message: date_facet.error_message_to(@search_query),
    data: {
      ga4_section: date_facet.name + " before"
    }
  } %>
<% end %>
