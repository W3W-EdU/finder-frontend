name: Filter panel
description: |
  Displays a result count and a toggleable panel with arbitrary content, a submit input, and an
  optional reset link.
uses_component_wrapper_helper: true
accessibility_criteria: |
  The component must:

  - accept focus
  - be focusable with a keyboard
  - be usable with a keyboard
  - be usable with touch
  - indicate when it has focus
  - toggle the visibility of the panel when interacted with
  - indicate the expanded state when panel is visible
  - indicate the collapsed state when panel is hidden
  - be visible by default without Javascript enabled
examples:
  default:
    data:
      result_text: 123,456 results
      button_text: Filter and sort
      block: |
        <p class="govuk-body">
          I can contain arbitrary content, usually a set of filters and sort options.
        </p>
  open:
    data:
      result_text: 1,989 seeds
      button_text: Open sesame
      open: true
      block: |
        <p class="govuk-body">
          I am open by default!
        </p>
  with_reset_link:
    description: |
      Shows a clear link when the filter panel is open, for example if any filters are selected that
      can be cleared.
    data:
      result_text: 42 widgets
      button_text: Clearable filters
      open: true
      show_reset_link: true
      reset_link_href: "http://example.org"
      block: |
        <p class="govuk-body">
          Some filters
        </p>
  with_filter_section:
    description: |
      Pass filter section component as a block
    data:
      result_text: 42 universes
      button_text: View filter section
      block: |
        <%= render "components/filter_section", {
          status_text: "1 Selected",
          heading_text: "Filter 1"
        } do %>
          <span>filter section content</span>
        <% end %>
  with_margin_bottom:
    description: |
      Allows the spacing at the bottom of the component to be adjusted.

      This accepts a number from `0` to `9` (`0px` to `60px`) using the [GOV.UK Frontend spacing scale](https://design-system.service.gov.uk/styles/spacing/#the-responsive-spacing-scale). It defaults to having no margin bottom.
    data:
      result_text: 1 partridge in a pear tree
      button_text: Loooooads of space
      margin_bottom: 9
