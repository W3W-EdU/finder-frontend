<% content_for :title, t("brexit_checker.confirm_changes.update.title") %>
<% content_for :head do %>
  <% unless params[:page] %>
    <meta name="robots" content="noindex">
  <% end %>
<% end %>

<% content_for :breadcrumbs do %>
  <div class="govuk-width-container">
    <%= render 'govuk_publishing_components/components/breadcrumbs', {
      collapse_on_mobile: true,
      breadcrumbs: [
        {
          title: t('brexit_checker.breadcrumbs.home'),
          url: "/"
        },
        {
          title: t('brexit_checker.breadcrumbs.brexit-home'),
          url: "/brexit"
        },
        {
          title: t('brexit_checker.breadcrumbs.results'),
          url: transition_checker_results_path(c: criteria_keys)
        }
      ]
    } %>
  </div>
<% end %>

<div class="govuk-width-container">
  <div class="govuk-main-wrapper">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        <%= render "govuk_publishing_components/components/heading", {
          text: yield(:title),
          font_size: "xl",
          heading_level: 1,
          margin_bottom: 6,
        } %>

        <%= render "govuk_publishing_components/components/table", {
          first_cell_is_header: true,
          head: [
            {
              text: t("brexit_checker.confirm_changes.update.table.question")
            },
            {
              text: t("brexit_checker.confirm_changes.update.table.old_answer")
            },
            {
              text: t("brexit_checker.confirm_changes.update.table.new_answer")
            }
          ],
          rows: results_comparison(@saved_results, criteria_keys)
        } %>

        <%= render "govuk_publishing_components/components/inset_text", {
          text: t("brexit_checker.confirm_changes.update.message")
        } %>

        <%= form_tag transition_checker_save_results_confirm_path(c: criteria_keys), method: :post do %>
          <%= render "govuk_publishing_components/components/button", {
            text: t("brexit_checker.confirm_changes.update.save_button"),
            margin_bottom: 4
          } %>
        <% end %>

        <p class="govuk-body"><%= t("brexit_checker.confirm_changes.update.cancel_html", link: transition_checker_results_path(c: criteria_keys)) %></p>
      </div>
    </div>
  </div>
</div>
